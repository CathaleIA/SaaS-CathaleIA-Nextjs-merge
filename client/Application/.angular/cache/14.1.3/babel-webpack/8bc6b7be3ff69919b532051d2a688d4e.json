{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../users.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/icon\";\n\nfunction CreateComponent_mat_error_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"A valid email must be provided.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let CreateComponent = /*#__PURE__*/(() => {\n  class CreateComponent {\n    constructor(fb, userSvc, _snackBar) {\n      this.fb = fb;\n      this.userSvc = userSvc;\n      this._snackBar = _snackBar;\n      this.error = false;\n      this.success = false;\n      this.userForm = this.fb.group({\n        userName: [null, [Validators.required]],\n        userEmail: [null, [Validators.email, Validators.required]],\n        userRole: [null, [Validators.required]]\n      });\n    }\n\n    ngOnInit() {}\n\n    openErrorMessageSnackBar(errorMessage) {\n      this._snackBar.open(errorMessage, 'Dismiss', {\n        duration: 4 * 1000 // seconds\n\n      });\n    }\n\n    onSubmit() {\n      const user = this.userForm.value;\n      this.userSvc.create(user).subscribe(() => {\n        this.success = true;\n        this.openErrorMessageSnackBar('Successfully created new user!');\n      }, err => {\n        this.error = true;\n        this.openErrorMessageSnackBar('An unexpected error occurred!');\n      });\n    }\n\n  }\n\n  CreateComponent.ɵfac = function CreateComponent_Factory(t) {\n    return new (t || CreateComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UsersService), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n\n  CreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateComponent,\n    selectors: [[\"app-create\"]],\n    decls: 40,\n    vars: 3,\n    consts: [[1, \"user-form\", \"container\"], [1, \"row\"], [1, \"col-md-6\"], [3, \"formGroup\"], [1, \"card\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"id\", \"username\", \"name\", \"username\", \"formControlName\", \"userName\", \"required\", \"\"], [\"matSuffix\", \"\"], [\"matInput\", \"\", \"id\", \"useremail\", \"name\", \"useremail\", \"formControlName\", \"userEmail\", \"required\", \"\"], [4, \"ngIf\"], [\"matInput\", \"\", \"id\", \"userrole\", \"name\", \"userrole\", \"formControlName\", \"userRole\", \"placeholder\", \"User Role\", \"required\", \"\"], [1, \"button-panel\"], [\"mat-raised-button\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-block\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"mat-raised-button\", \"\", \"routerLink\", \"/users\", \"type\", \"button\", 1, \"btn\", \"btn-block\", \"btn-danger\"]],\n    template: function CreateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3)(4, \"mat-card\", 4)(5, \"mat-card-title\");\n        i0.ɵɵtext(6, \"Create User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"mat-card-subtitle\");\n        i0.ɵɵtext(8, \"Upon submission, a new user account will be created and we will send an email to the provided address with login instructions.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-card-content\")(10, \"mat-form-field\", 5)(11, \"mat-label\");\n        i0.ɵɵtext(12, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 6);\n        i0.ɵɵelementStart(14, \"mat-icon\", 7);\n        i0.ɵɵtext(15, \"person\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(16, \"br\");\n        i0.ɵɵelementStart(17, \"mat-form-field\", 5)(18, \"mat-label\");\n        i0.ɵɵtext(19, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 8);\n        i0.ɵɵelementStart(21, \"mat-icon\", 7);\n        i0.ɵɵtext(22, \"email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, CreateComponent_mat_error_23_Template, 2, 0, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"br\");\n        i0.ɵɵelementStart(25, \"mat-form-field\", 5)(26, \"mat-label\");\n        i0.ɵɵtext(27, \"User Role\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"input\", 10);\n        i0.ɵɵelementStart(29, \"mat-icon\", 7);\n        i0.ɵɵtext(30, \"vpn_key\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵelementStart(32, \"mat-card-actions\")(33, \"div\", 11)(34, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function CreateComponent_Template_button_click_34_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(35, \"span\");\n        i0.ɵɵtext(36, \"Create\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"button\", 13)(38, \"span\");\n        i0.ɵɵtext(39, \"Cancel\");\n        i0.ɵɵelementEnd()()()()()()()()()();\n      }\n\n      if (rf & 2) {\n        let tmp_1_0;\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.userForm.get(\"userEmail\")) == null ? null : tmp_1_0.errors);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"disabled\", !ctx.userForm.valid);\n      }\n    },\n    dependencies: [i4.NgIf, i5.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i6.MatButton, i7.MatCard, i7.MatCardContent, i7.MatCardTitle, i7.MatCardSubtitle, i7.MatCardActions, i8.MatError, i8.MatFormField, i8.MatLabel, i8.MatSuffix, i9.MatInput, i10.MatIcon],\n    styles: [\".user-form[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column}.mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center}.button-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:8px}.row[_ngcontent-%COMP%]{width:100%;align-items:center}button[_ngcontent-%COMP%]{margin:4px}\"]\n  });\n  return CreateComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}