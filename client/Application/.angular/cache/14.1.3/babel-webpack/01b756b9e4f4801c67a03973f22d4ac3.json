{"ast":null,"code":"import { map, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../orders.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction DetailComponent_tr_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 22)(5, \"span\", 23);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"small\", 4);\n    i0.ɵɵtext(10, \"Before Tax\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\", 22)(12, \"span\", 23);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"small\", 4);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"td\", 22)(19, \"span\", 23);\n    i0.ɵɵtext(20, \"$0.00\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"small\", 4);\n    i0.ɵɵtext(23, \"None\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"td\", 24)(25, \"span\", 23);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵelementStart(29, \"small\", 4);\n    i0.ɵɵtext(30, \"Sales Tax 8.9%\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"td\", 22)(32, \"strong\", 23);\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(35, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const op_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", op_r2.productId, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 6, op_r2.price));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 8, ctx_r0.sum(op_r2)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", op_r2.quantity, \" Units\");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(27, 10, ctx_r0.tax(op_r2)));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(34, 12, ctx_r0.total(op_r2)));\n  }\n}\n\nfunction DetailComponent_table_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 25)(1, \"thead\")(2, \"tr\")(3, \"td\", 26);\n    i0.ɵɵtext(4, \"Sub Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 26);\n    i0.ɵɵtext(6, \"Discount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 26);\n    i0.ɵɵtext(8, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 26);\n    i0.ɵɵtext(10, \"Tax\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 26);\n    i0.ɵɵtext(12, \"Final\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tbody\")(14, \"tr\")(15, \"th\", 27);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 27);\n    i0.ɵɵtext(19, \"-$0.00\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\", 27);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\", 27);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 27);\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const order_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 4, ctx_r1.subTotal(order_r3)), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(22, 6, ctx_r1.subTotal(order_r3)), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(25, 8, ctx_r1.calcTax(order_r3)), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(28, 10, ctx_r1.final(order_r3)), \" \");\n  }\n}\n\nexport let DetailComponent = /*#__PURE__*/(() => {\n  class DetailComponent {\n    constructor(route, orderSvc) {\n      this.route = route;\n      this.orderSvc = orderSvc;\n      this.taxRate = 0.0899;\n    }\n\n    ngOnInit() {\n      this.orderId$ = this.route.params.pipe(map(o => o['orderId']));\n      this.order$ = this.orderId$.pipe(switchMap(o => this.orderSvc.get(o)));\n      this.orderProducts$ = this.order$.pipe(map(o => o.orderProducts));\n    }\n\n    today() {\n      return new Date();\n    }\n\n    tenantName() {\n      return '';\n    }\n\n    sum(op) {\n      return op.price * op.quantity;\n    }\n\n    tax(op) {\n      return this.sum(op) * this.taxRate;\n    }\n\n    total(op) {\n      return this.sum(op) + this.tax(op);\n    }\n\n    subTotal(order) {\n      return order.orderProducts.map(op => op.price * op.quantity).reduce((acc, curr) => acc + curr);\n    }\n\n    calcTax(order) {\n      return this.subTotal(order) * this.taxRate;\n    }\n\n    final(order) {\n      return this.subTotal(order) + this.calcTax(order);\n    }\n\n  }\n\n  DetailComponent.ɵfac = function DetailComponent_Factory(t) {\n    return new (t || DetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.OrdersService));\n  };\n\n  DetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetailComponent,\n    selectors: [[\"app-detail\"]],\n    decls: 62,\n    vars: 13,\n    consts: [[1, \"container\", \"invoice\"], [1, \"invoice-header\"], [1, \"row\"], [1, \"col-xs-8\"], [1, \"text-muted\"], [1, \"col-xs-4\"], [1, \"media\"], [1, \"media-left\"], [\"src\", \"assets/logo.svg\", 1, \"media-object\", \"logo\"], [1, \"media-body\", \"list-unstyled\"], [1, \"invoice-body\"], [1, \"card\"], [1, \"card-header\"], [1, \"table\", \"table-bordered\", \"table-responsive\", \"no-bottom-margin\"], [1, \"text-center\", \"colfix\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"table table-bordered table-condensed\", 4, \"ngIf\"], [1, \"col-xs-7\"], [1, \"card-body\"], [2, \"margin\", \"3px 0 5px\"], [1, \"invoice-footer\"], [1, \"nowrap\"], [1, \"text-right\"], [1, \"mono\"], [1, \"text-right\", \"nowrap\"], [1, \"table\", \"table-bordered\", \"table-condensed\"], [1, \"text-center\", \"col-xs-1\"], [1, \"text-center\", \"rowtotal\", \"mono\"]],\n    template: function DetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\");\n        i0.ɵɵtext(5, \"Order Details \");\n        i0.ɵɵelementStart(6, \"small\");\n        i0.ɵɵtext(7, \"mostly made up\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"h5\", 4);\n        i0.ɵɵtext(9);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵpipe(11, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 5)(13, \"div\", 6)(14, \"div\", 7);\n        i0.ɵɵelement(15, \"img\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"ul\", 9)(17, \"li\")(18, \"strong\");\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(20, \"div\", 10)(21, \"div\", 2)(22, \"div\", 11)(23, \"div\", 12)(24, \"h3\");\n        i0.ɵɵtext(25, \"Services / Products\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"table\", 13)(27, \"thead\")(28, \"tr\")(29, \"th\");\n        i0.ɵɵtext(30, \"Item / Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"th\", 14);\n        i0.ɵɵtext(32, \"Unit Cost\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"th\", 14);\n        i0.ɵɵtext(34, \"Sum Cost\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"th\", 14);\n        i0.ɵɵtext(36, \"Discount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"th\", 14);\n        i0.ɵɵtext(38, \"Tax\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"th\", 14);\n        i0.ɵɵtext(40, \"Total\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(41, \"tbody\");\n        i0.ɵɵtemplate(42, DetailComponent_tr_42_Template, 36, 14, \"tr\", 15);\n        i0.ɵɵpipe(43, \"async\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(44, \"div\");\n        i0.ɵɵtemplate(45, DetailComponent_table_45_Template, 29, 12, \"table\", 16);\n        i0.ɵɵpipe(46, \"async\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"div\", 2)(48, \"div\", 17)(49, \"div\", 11)(50, \"div\", 18)(51, \"i\");\n        i0.ɵɵtext(52, \"Comments / Notes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(53, \"hr\", 19);\n        i0.ɵɵtext(54, \" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit repudiandae numquam sit facere blanditiis, quasi distinctio ipsam? Libero odit ex expedita, facere sunt, possimus consectetur dolore, nobis iure amet vero. \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(55, \"div\", 20);\n        i0.ɵɵtext(56, \" Thank you for choosing the Serverless SaaS Reference Architecture. \");\n        i0.ɵɵelement(57, \"br\");\n        i0.ɵɵtext(58, \" We hope to see you again soon \");\n        i0.ɵɵelement(59, \"br\");\n        i0.ɵɵelementStart(60, \"strong\");\n        i0.ɵɵtext(61, \"AWS\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate2(\" NO: \", i0.ɵɵpipeBind1(10, 5, ctx.orderId$), \" | Date: \", i0.ɵɵpipeBind1(11, 7, ctx.today()), \" \");\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.tenantName());\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(43, 9, ctx.orderProducts$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(46, 11, ctx.order$));\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i3.AsyncPipe, i3.CurrencyPipe, i3.DatePipe],\n    styles: [\".no-bottom-margin[_ngcontent-%COMP%]{margin-bottom:0}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.invoice[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;width:970px!important;margin:50px auto}.invoice[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]{padding:25px 25px 15px}.invoice[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.invoice[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]{font-size:.9em;margin:0}.invoice[_ngcontent-%COMP%]   .invoice-body[_ngcontent-%COMP%]{border-radius:10px;padding:25px;background:#fff}.invoice[_ngcontent-%COMP%]   .invoice-footer[_ngcontent-%COMP%]{padding:15px;font-size:.9em;text-align:center;color:#999}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:10px}.dl-horizontal[_ngcontent-%COMP%]{margin:0}.dl-horizontal[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{float:left;width:80px;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin-left:90px}.rowamount[_ngcontent-%COMP%]{padding-top:15px!important}.rowtotal[_ngcontent-%COMP%]{font-size:1.3em}.colfix[_ngcontent-%COMP%]{width:12%}.mono[_ngcontent-%COMP%]{font-family:monospace}\"]\n  });\n  return DetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}