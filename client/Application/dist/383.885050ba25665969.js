"use strict";(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[383],{2383:(E,f,a)=>{a.r(f),a.d(f,{UsersModule:()=>w});var u=a(6895),d=a(3060),o=a(4006),t=a(4650),v=a(2340),T=a(529);let h=(()=>{class e{constructor(n){this.http=n,this.apiUrl=v.N.regApiGatewayUrl}fetch(){return this.http.get(this.apiUrl+"/users")}create(n){return this.http.post(this.apiUrl+"/user",n)}update(n,i){}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(T.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=a(7009),p=a(4859),l=a(3546),m=a(9549),Z=a(4144),C=a(7392);function y(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"A valid email must be provided."),t.qZA())}let A=(()=>{class e{constructor(n,i,c){this.fb=n,this.userSvc=i,this._snackBar=c,this.error=!1,this.success=!1,this.userForm=this.fb.group({userName:[null,[o.kI.required]],userEmail:[null,[o.kI.email,o.kI.required]],userRole:[null,[o.kI.required]]})}ngOnInit(){}openErrorMessageSnackBar(n){this._snackBar.open(n,"Dismiss",{duration:4e3})}onSubmit(){this.userSvc.create(this.userForm.value).subscribe(()=>{this.success=!0,this.openErrorMessageSnackBar("Successfully created new user!")},i=>{this.error=!0,this.openErrorMessageSnackBar("An unexpected error occurred!")})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(o.qu),t.Y36(h),t.Y36(g.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create"]],decls:40,vars:3,consts:[[1,"user-form","container"],[1,"row"],[1,"col-md-6"],[3,"formGroup"],[1,"card"],["appearance","outline"],["matInput","","id","username","name","username","formControlName","userName","required",""],["matSuffix",""],["matInput","","id","useremail","name","useremail","formControlName","userEmail","required",""],[4,"ngIf"],["matInput","","id","userrole","name","userrole","formControlName","userRole","placeholder","User Role","required",""],[1,"button-panel"],["mat-raised-button","","type","button",1,"btn","btn-block","btn-primary",3,"disabled","click"],["mat-raised-button","","routerLink","/users","type","button",1,"btn","btn-block","btn-danger"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"mat-card",4)(5,"mat-card-title"),t._uU(6,"Create User"),t.qZA(),t.TgZ(7,"mat-card-subtitle"),t._uU(8,"Upon submission, a new user account will be created and we will send an email to the provided address with login instructions."),t.qZA(),t.TgZ(9,"mat-card-content")(10,"mat-form-field",5)(11,"mat-label"),t._uU(12,"Username"),t.qZA(),t._UZ(13,"input",6),t.TgZ(14,"mat-icon",7),t._uU(15,"person"),t.qZA()(),t._UZ(16,"br"),t.TgZ(17,"mat-form-field",5)(18,"mat-label"),t._uU(19,"Email"),t.qZA(),t._UZ(20,"input",8),t.TgZ(21,"mat-icon",7),t._uU(22,"email"),t.qZA(),t.YNc(23,y,2,0,"mat-error",9),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"mat-form-field",5)(26,"mat-label"),t._uU(27,"User Role"),t.qZA(),t._UZ(28,"input",10),t.TgZ(29,"mat-icon",7),t._uU(30,"vpn_key"),t.qZA()(),t._UZ(31,"br"),t.TgZ(32,"mat-card-actions")(33,"div",11)(34,"button",12),t.NdJ("click",function(){return i.onSubmit()}),t.TgZ(35,"span"),t._uU(36,"Create"),t.qZA()(),t.TgZ(37,"button",13)(38,"span"),t._uU(39,"Cancel"),t.qZA()()()()()()()()()()),2&n){let c;t.xp6(3),t.Q6J("formGroup",i.userForm),t.xp6(20),t.Q6J("ngIf",null==(c=i.userForm.get("userEmail"))?null:c.errors),t.xp6(11),t.Q6J("disabled",!i.userForm.valid)}},dependencies:[u.O5,d.rH,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,p.lW,l.a8,l.dn,l.n5,l.$j,l.hq,m.TO,m.KE,m.hX,m.R9,Z.Nt,C.Hw],styles:[".user-form[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column}.mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center}.button-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:8px}.row[_ngcontent-%COMP%]{width:100%;align-items:center}button[_ngcontent-%COMP%]{margin:4px}"]}),e})();var s=a(7155),U=a(1572);function b(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Email"),t.qZA())}function x(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.Oqu(n.email)}}function L(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Created Date"),t.qZA())}function N(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.created)," ")}}function M(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Modified Date"),t.qZA())}function D(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.modified)," ")}}function Y(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Status"),t.qZA())}function q(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.status," ")}}function S(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Enabled"),t.qZA())}function _(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.enabled," ")}}function O(e,r){1&e&&t._UZ(0,"tr",19)}function B(e,r){1&e&&t._UZ(0,"tr",20)}function I(e,r){1&e&&(t.TgZ(0,"mat-card",21),t._UZ(1,"mat-progress-spinner",22),t.qZA())}const Q=[{path:"",redirectTo:"list",pathMatch:"prefix"},{path:"list",data:{title:"All Users"},component:(()=>{class e{constructor(n){this.userSvc=n,this.userData=[],this.isLoading=!0,this.displayedColumns=["email","created","modified","status","enabled"]}ngOnInit(){this.userSvc.fetch().subscribe(n=>{this.userData=n,this.isLoading=!1})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-user"]],decls:30,vars:4,consts:[[1,"user-list"],[1,"card"],[1,"row"],[1,"col-md-12"],["mat-table","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","created"],["matColumnDef","modified"],["matColumnDef","status"],["matColumnDef","enabled"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],[1,"button-panel"],["routerLink","/users/create","mat-raised-button","","color","primary"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate","diameter","15"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"mat-card-title"),t._uU(4," User List "),t.qZA(),t.TgZ(5,"div",2)(6,"div",3)(7,"table",4),t.ynx(8,5),t.YNc(9,b,2,0,"th",6),t.YNc(10,x,2,1,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,L,2,0,"th",6),t.YNc(13,N,3,3,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,M,2,0,"th",6),t.YNc(16,D,3,3,"td",7),t.BQk(),t.ynx(17,10),t.YNc(18,Y,2,0,"th",6),t.YNc(19,q,2,1,"td",7),t.BQk(),t.ynx(20,11),t.YNc(21,S,2,0,"th",6),t.YNc(22,_,2,1,"td",7),t.BQk(),t.YNc(23,O,1,0,"tr",12),t.YNc(24,B,1,0,"tr",13),t.qZA(),t.YNc(25,I,2,0,"mat-card",14),t.qZA()(),t.TgZ(26,"mat-card-actions")(27,"div",15)(28,"button",16),t._uU(29,"Add User"),t.qZA()()()()()()),2&n&&(t.xp6(7),t.Q6J("dataSource",i.userData),t.xp6(16),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",i.isLoading))},dependencies:[u.O5,d.rH,p.lW,l.a8,l.dn,l.n5,l.hq,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,U.Ou,u.uU],styles:[".user-list[_ngcontent-%COMP%]{margin:20px}table[_ngcontent-%COMP%]{width:100%}.button-panel[_ngcontent-%COMP%]{margin-top:20px}.mat-cell[_ngcontent-%COMP%]{margin:20px 5px}"]}),e})()},{path:"create",data:{title:"Create User"},component:A}];let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(Q),d.Bz]}),e})();var j=a(9602),J=a(4385),R=a(1948),k=a(5412);let w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,F,o.u5,o.UX,p.ot,l.QW,j.FA,k.Is,m.lN,Z.c,R.Fk,J.LD,s.p0,C.Ps,U.Cq,g.ZX]}),e})()}}]);